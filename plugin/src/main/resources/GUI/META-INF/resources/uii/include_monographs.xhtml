<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:p="http://primefaces.org/ui"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:zlb="http://xmlns.jcp.org/jsf/composite/composites"
    template="/uii/template/reduced_content_template.html">
    <composite:interface>
    </composite:interface>

    <composite:implementation>


        <ui:fragment rendered="#{DashboardForm.plugin.navigation=='data1'}">

            <ui:include src="includes/helpModalsDD.xhtml">
                <ui:param
                    name="header"
                    value="plugin_dashboard_delivery_monograph_data1_helpHeader" />
                <ui:param
                    name="body1"
                    value="plugin_dashboard_delivery_monograph_data1_helpBody1" />
                <ui:param
                    name="body2"
                    value="plugin_dashboard_delivery_monograph_data1_helpBody2" />
                <ui:param
                    name="img"
                    value="plugin_dashboard_delivery_monograph_data1_helpImg" />
            </ui:include>

            <h1 class="page__heading">
                #{msgs.plugin_dashboard_delivery_deliverMonographHeader}

                <span
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="#{msgs.plugin_rest_usercreation_helpText_page}">
                <button
                    type="button"
                    class="btn page__help"
                    aria-label="#{msgs.plugin_dashboard_delivery_pageHelp}"
                    data-bs-toggle="modal"
                    data-bs-title="help title"
                    data-bs-target="#pageHelpModal">
                    <ui:include src="/uii/includes/icon-help.xhtml" />
                </button>
                </span>
            </h1>

            <h:form styleClass="form-validate">

                <ui:repeat
                    var="group"
                    value="#{DashboardForm.plugin.configuredGroups}">
                    <ui:fragment rendered="#{group.pageName==DashboardForm.plugin.navigation and group.documentType == DashboardForm.plugin.documentType}">
                        <div class="common-region">
                            <h2 class="grid-full-width">
                                <h:outputText value="#{group.label}" />
                            </h2>

                            <ui:repeat
                                var="field"
                                value="#{group.fields}"
                                varStatus="status">

                                <ui:fragment rendered="#{field.displayType == 'person'}">
                                    <zlb:person
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        value="#{field.value}"
                                        required="#{field.required}"
                                        secondValue="#{field.value2}"
                                        role="#{field.role}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        subClass="persongrid"
                                        fieldName="#{field.label}"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>

                                <ui:fragment rendered="#{field.displayType == 'corporate'}">
                                    <zlb:corporate
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        value="#{field.value}"
                                        required="#{field.required}"
                                        role="#{field.role}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        subClass="corporategrid"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>

                                <ui:fragment rendered="#{field.displayType == 'picklist'}">
                                    <zlb:picklist
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        value="#{field.value}"
                                        required="#{field.required}"
                                        role="#{field.role}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        subClass="corporategrid"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>


                                <ui:fragment rendered="#{field.displayType != 'person' and field.displayType != 'corporate'and field.displayType != 'picklist'}">
                                    <zlb:field
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        required="#{field.required}"
                                        value="#{field.value}"
                                        fieldType="#{field.displayType}"
                                        propertyValid="#{field.fieldValid}"
                                        fieldRequired="#{field.required}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        booleanValue="#{field.booleanValue}"
                                        subValue="#{field.value2}"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>
                            </ui:repeat>
                        </div>
                    </ui:fragment>
                </ui:repeat>


            </h:form>

        </ui:fragment>


        <ui:fragment rendered="#{DashboardForm.plugin.navigation=='data2'}">

            <ui:include src="includes/helpModalsDD.xhtml">
                <ui:param
                    name="header"
                    value="plugin_dashboard_delivery_monograph_data2_helpHeader" />
                <ui:param
                    name="body1"
                    value="plugin_dashboard_delivery_monograph_data2_helpBody1" />
                <ui:param
                    name="body2"
                    value="plugin_dashboard_delivery_monograph_data2_helpBody2" />
                <ui:param
                    name="img"
                    value="plugin_dashboard_delivery_monograph_data2_helpImg" />
            </ui:include>

            <h1 class="page__heading">
                #{msgs.plugin_dashboard_delivery_deliverMonographHeader}

                <span
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="#{msgs.plugin_rest_usercreation_helpText_page}">
                <button
                    type="button"
                    class="btn page__help"
                    aria-label="#{msgs.plugin_dashboard_delivery_pageHelp}"
                    data-bs-toggle="modal"
                    data-bs-title="help title"
                    data-bs-target="#pageHelpModal">
                    <ui:include src="/uii/includes/icon-help.xhtml" />
                </button>
                </span>
            </h1>

            <h:form styleClass="form-validate">

                <ui:repeat
                    var="group"
                    value="#{DashboardForm.plugin.configuredGroups}">
                    <ui:fragment rendered="#{group.pageName==DashboardForm.plugin.navigation and group.documentType == DashboardForm.plugin.documentType}">

                        <div
                            class="common-region"
                            id="grp">

                            <h2 class="grid-full-width">
                                <h:outputText value="#{group.label}" />
                            </h2>

                            <ui:repeat
                                var="field"
                                value="#{group.fields}"
                                varStatus="status">

                                <ui:fragment rendered="#{field.displayType == 'person'}">
                                    <zlb:person
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        value="#{field.value}"
                                        required="#{field.required}"
                                        secondValue="#{field.value2}"
                                        role="#{field.role}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        subClass="persongrid"
                                        fieldName="#{field.label}"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        render=":grp"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>

                                <ui:fragment rendered="#{field.displayType == 'corporate'}">
                                    <zlb:corporate
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        value="#{field.value}"
                                        required="#{field.required}"
                                        role="#{field.role}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        subClass="corporategrid"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        render=":grp"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>

                                <ui:fragment rendered="#{field.displayType == 'picklist'}">
                                    <zlb:picklist
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        value="#{field.value}"
                                        required="#{field.required}"
                                        role="#{field.role}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        subClass="corporategrid"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        render=":grp"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>


                                <ui:fragment rendered="#{field.displayType != 'person' and field.displayType != 'corporate'and field.displayType != 'picklist'}">
                                    <zlb:field
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        required="#{field.required}"
                                        value="#{field.value}"
                                        fieldType="#{field.displayType}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        booleanValue="#{field.booleanValue}"
                                        subValue="#{field.value2}"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        render=":grp"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>
                            </ui:repeat>
                        </div>
                    </ui:fragment>
                </ui:repeat>


            </h:form>

        </ui:fragment>

        <ui:fragment rendered="#{DashboardForm.plugin.navigation=='data3'}">


            <ui:include src="includes/helpModalsDD.xhtml">
                <ui:param
                    name="header"
                    value="plugin_dashboard_delivery_monograph_data3_helpHeader" />
                <ui:param
                    name="body1"
                    value="plugin_dashboard_delivery_monograph_data3_helpBody1" />
                <ui:param
                    name="body2"
                    value="plugin_dashboard_delivery_monograph_data3_helpBody2" />
                <ui:param
                    name="img"
                    value="plugin_dashboard_delivery_monograph_data3_helpImg" />
            </ui:include>

            <h1 class="page__heading">
                #{msgs.plugin_dashboard_delivery_deliverMonographHeader}

                <span
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="#{msgs.plugin_rest_usercreation_helpText_page}">
                <button
                    type="button"
                    class="btn page__help"
                    aria-label="#{msgs.plugin_dashboard_delivery_pageHelp}"
                    data-bs-toggle="modal"
                    data-bs-title="help title"
                    data-bs-target="#pageHelpModal">
                    <ui:include src="/uii/includes/icon-help.xhtml" />
                </button>
                </span>
            </h1>

            <h:form styleClass="form-validate">

                <ui:repeat
                    var="group"
                    value="#{DashboardForm.plugin.configuredGroups}">
                    <ui:fragment rendered="#{group.pageName==DashboardForm.plugin.navigation and group.documentType == DashboardForm.plugin.documentType}">
                        <div
                            class="common-region"
                            id="grp">

                            <h2 class="grid-full-width">
                                <h:outputText value="#{group.label}" />
                            </h2>

                            <ui:repeat
                                var="field"
                                value="#{group.fields}"
                                varStatus="status">

                                <ui:fragment rendered="#{field.displayType == 'person'}">
                                    <zlb:person
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        value="#{field.value}"
                                        required="#{field.required}"
                                        secondValue="#{field.value2}"
                                        role="#{field.role}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        subClass="persongrid"
                                        fieldName="#{field.label}"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        render=":grp"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>

                                <ui:fragment rendered="#{field.displayType == 'corporate'}">
                                    <zlb:corporate
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        value="#{field.value}"
                                        required="#{field.required}"
                                        role="#{field.role}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        subClass="corporategrid"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        render=":grp"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>

                                <ui:fragment rendered="#{field.displayType == 'picklist'}">
                                    <zlb:picklist
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        value="#{field.value}"
                                        required="#{field.required}"
                                        role="#{field.role}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        subClass="corporategrid"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        render=":grp"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>


                                <ui:fragment rendered="#{field.displayType != 'person' and field.displayType != 'corporate'and field.displayType != 'picklist'}">
                                    <zlb:field
                                        identifier="field_#{status.index}"
                                        labelText="#{field.label}"
                                        labelHelpText="{field.helpMessage}"
                                        required="#{field.required}"
                                        value="#{field.value}"
                                        fieldType="#{field.displayType}"
                                        propertyValid="#{field.fieldValid}"
                                        errorMessageText="#{field.validationErrorText}"
                                        selectItems="#{field.selectList}"
                                        booleanValue="#{field.booleanValue}"
                                        subValue="#{field.value2}"
                                        displayDuplicateButton="#{field.cardinality == '+' or field.cardinality == '*'}"
                                        render=":grp"
                                        fieldValidator="#{field.validateField}"
                                        showHelpBtn="#{field.displayHelpButton}"
                                        helpText="#{field.helpMessage}" />
                                </ui:fragment>

                            </ui:repeat>
                        </div>
                    </ui:fragment>
                </ui:repeat>
            </h:form>
        </ui:fragment>

        <ui:fragment rendered="#{DashboardForm.plugin.navigation=='overview'}">

            <ui:include src="includes/helpModalsDD.xhtml">
                <ui:param
                    name="header"
                    value="plugin_dashboard_delivery_monograph_overview_helpHeader" />
                <ui:param
                    name="body1"
                    value="plugin_dashboard_delivery_monograph_overview_helpBody1" />
                <ui:param
                    name="body2"
                    value="plugin_dashboard_delivery_monograph_overview_helpBody2" />
                <ui:param
                    name="img"
                    value="plugin_dashboard_delivery_monograph_overview_helpImg" />
            </ui:include>

            <h1 class="page__heading">
                #{msgs.plugin_dashboard_delivery_deliverMonographHeader}

                <span
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="#{msgs.plugin_rest_usercreation_helpText_page}">
                <button
                    type="button"
                    class="btn page__help"
                    aria-label="#{msgs.plugin_dashboard_delivery_pageHelp}"
                    data-bs-toggle="modal"
                    data-bs-title="help title"
                    data-bs-target="#pageHelpModal">
                    <ui:include src="/uii/includes/icon-help.xhtml" />
                </button>
                </span>
            </h1>

            <h:form styleClass="form-validate monograph__overview">
                <ui:repeat
                    var="group"
                    value="#{DashboardForm.plugin.configuredGroups}">
                    <ui:fragment rendered="#{group.documentType == DashboardForm.plugin.documentType}">
                        <div class="common-region">

                            <h2 class="grid-full-width">
                                <h:outputText value="#{group.label}" />
                            </h2>

                            <ui:repeat
                                var="field"
                                value="#{group.fields}"
                                varStatus="status">
                                <h:panelGroup
                                    layout="block"
                                    styleClass="form-group grid-row">
                                    <h:outputLabel value="#{field.label}" />


                                    <ui:fragment rendered="#{field.displayType == 'person'}">
                                        <div class="form-field persongrid">
                                            <h:outputText
                                                styleClass="form-control"
                                                value="#{field.value}" />
                                            <h:outputText
                                                styleClass="form-control"
                                                value="#{field.value2}" />
                                            <h:outputText
                                                styleClass="form-control"
                                                value="#{field.role}" />
                                        </div>
                                    </ui:fragment>

                                    <ui:fragment rendered="#{field.displayType == 'corporate'}">
                                        <div class="form-field corporategrid">
                                            <h:outputText
                                                styleClass="form-control"
                                                value="#{field.value}" />
                                            <h:outputText
                                                styleClass="form-control"
                                                value="#{field.role}" />
                                        </div>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{field.displayType == 'picklist'}">
                                        <div class="form-field corporategrid">
                                            <h:outputText
                                                styleClass="form-control"
                                                value="#{field.role}" />
                                            <h:outputText
                                                styleClass="form-control"
                                                value="#{field.value}" />
                                        </div>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{field.displayType != 'person' and field.displayType != 'corporate'and field.displayType != 'picklist'}">
                                        <div class="form-field">
                                            <h:outputText
                                                styleClass="form-control"
                                                value="#{field.value}" />
                                        </div>
                                    </ui:fragment>
                                </h:panelGroup>
                            </ui:repeat>
                        </div>
                    </ui:fragment>
                </ui:repeat>
            </h:form>
        </ui:fragment>


        <ui:fragment rendered="#{DashboardForm.plugin.navigation=='finish'}">

        </ui:fragment>

        <ui:fragment rendered="#{DashboardForm.plugin.navigation!='main'}">
            <h:form id="navigationForm">
                <div class="container-escape submit">
                    <button
                        jsf:action="#{DashboardForm.plugin.previousPage}"
                        jsf:id="backToMain"
                        class="btn btn-blank">
                        <h:outputText value="#{msgs.zurueck}" />
                        <f:ajax
                            render="main-area"
                            execute="@this" />
                    </button>
                    <ul class="statuslist">
                        <li class="#{DashboardForm.plugin.navigation=='upload'?'active':'finished'}">

                            <h:panelGroup styleClass="status #{DashboardForm.plugin.navigation=='upload'?'active':'finished'} ">
                                <h:outputText value="#{msgs.plugin_dashboard_delivery_upload}" />
                            </h:panelGroup>
                        </li>
                        <li class="#{DashboardForm.plugin.navigation=='data1' ? 'active': DashboardForm.plugin.navigation=='upload' ? 'inactive': 'finished'}">
                            <h:panelGroup styleClass="status #{DashboardForm.plugin.navigation=='data1' ? 'active': DashboardForm.plugin.navigation=='upload' ? 'inactive': 'finished'}">
                                <h:outputText value="#{msgs.plugin_dashboard_delivery_data1}" />
                            </h:panelGroup>
                        </li>
                        <li class="#{DashboardForm.plugin.navigation=='data2' ? 'active': DashboardForm.plugin.navigation=='upload' or DashboardForm.plugin.navigation=='data1' ? 'inactive': 'finished'}">
                            <h:panelGroup styleClass="status #{DashboardForm.plugin.navigation=='data2' ? 'active': DashboardForm.plugin.navigation=='upload' or DashboardForm.plugin.navigation=='data1' ? 'inactive': 'finished'}">
                                <h:outputText value="#{msgs.plugin_dashboard_delivery_data2}" />
                            </h:panelGroup>
                        </li>

                        <li class="#{DashboardForm.plugin.navigation=='data3' ? 'active': DashboardForm.plugin.navigation=='upload' or DashboardForm.plugin.navigation=='data1' or DashboardForm.plugin.navigation=='data2' ? 'inactive': 'finished'}">
                            <h:panelGroup styleClass="status #{DashboardForm.plugin.navigation=='data3' ? 'active': DashboardForm.plugin.navigation=='upload' or DashboardForm.plugin.navigation=='data1' or DashboardForm.plugin.navigation=='data2' ? 'inactive': 'finished'}">
                                <h:outputText value="#{msgs.plugin_dashboard_delivery_data3}" />
                            </h:panelGroup>
                        </li>
                        <li class="#{DashboardForm.plugin.navigation=='overview' ? 'active': DashboardForm.plugin.navigation=='finish' ? 'finished': 'inactive'}">
                            <h:panelGroup styleClass="status #{DashboardForm.plugin.navigation=='overview' ? 'active': DashboardForm.plugin.navigation=='finish' ? 'finished': 'inactive'}">
                                <h:outputText value="#{msgs.plugin_dashboard_delivery_overview}" />
                            </h:panelGroup>

                        </li>
                        <li class="#{DashboardForm.plugin.navigation=='finish' ? 'active': 'inactive'}">
                            <h:panelGroup styleClass="status #{DashboardForm.plugin.navigation=='finish' ? 'active': 'inactive'}">
                                <h:outputText value="#{msgs.plugin_dashboard_delivery_finish}" />
                            </h:panelGroup>
                        </li>
                    </ul>
                    <button
                        jsf:action="#{DashboardForm.plugin.nextPage}"
                        jsf:id="nextStep"
                        class="btn btn-success">
                        <h:outputText value="#{msgs.weiter}" />
                        <f:ajax
                            render="main-area globalMessage"
                            execute="@this" />
                    </button>
                </div>

            </h:form>

        </ui:fragment>
    </composite:implementation>

</ui:composition>
